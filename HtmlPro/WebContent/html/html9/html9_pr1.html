<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
</head>
<body>
	<h3>주민등록번호 유효성 검사</h3>
	주민등록번호 : <input type="text" id="jumin2">
	<button type="button" onclick="proc2()">확인</button><br>
	결과 : <span id="check"></span>
</body>
<script type="text/javascript">
	function proc2() {
		var jumin2 = document.getElementById("jumin2").value;
		var arrReg = [];
		var check = [2,3,4,5,6,7,8,9,2,3,4,5];
		var sum = 0;
		var reg1, reg2;
		
		// '-' 하이픈 입력 유무 확인
		if (jumin2.substr(6, 1) == "-") {
			reg1 = jumin2.substr(0, 6);
			reg2 = jumin2.substr(7, 7);
		} else {
			reg1 = jumin2.substr(0, 6)
			reg2 = jumin2.substr(6, 7)
		}
		
		// => jumin2 = jumin2.replace("-", ""); // "-"이 들어가있으면 삭제★★★
		
		// 주민등록번호 배열에 삽입
		var reg = reg1 + "" + reg2;
		
		for(var i = 0; i < 13 ; i++) {
			arrReg[i] = reg.substr(i, 1);
		}
		console.log(arrReg);
		
		// 유효성 검사식
		for(var i = 0; i < 12; i++) {
			sum += (arrReg[i] * check[i]); 
		}
		console.log(sum);
		
		sum = 11 - (sum % 11)
		console.log(sum);
		
		if (0 <= sum && sum < 10) {
			result = sum;
		} else if (result == 10) {
			result = 0;
		} else if(result == 11) {
			result = 1;
		} else {
			document.getElementById("check").innerHTML = "오류발생";
		}
		console.log(result);
		
		// 결과 출력
		if (result == arrReg[12]) {
			document.getElementById("check").innerHTML = "올바른 주민등록번호입니다.";
		} else document.getElementById("check").innerHTML = "올바르지 않은 주민등록번호입니다.";
	}
</script>
</html>